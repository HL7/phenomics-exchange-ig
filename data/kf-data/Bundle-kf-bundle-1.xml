<?xml version="1.0" encoding="UTF-8"?>

<Bundle xmlns="http://hl7.org/fhir"
	xmlns:h="http://www.w3.org/1999/xhtml"
	xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
	xsi:schemaLocation="http://hl7.org/fhir http://hl7.org/fhir/R4/fhir-single.xsd http://www.w3.org/1999/xhtml http://hl7.org/fhir/R4/fhir-xhtml.xsd">
	<id value="kf-bundle-1" />
	<type value="transaction" />

	<!-- The patient for the second KF table here: https://phenopackets-analysis.readthedocs.io/en/latest/usecases-driver.html -->
	<entry>
		<resource>
			<Patient>
				<id value="patient-1" />
				<meta>
					<tag>
						<system
							value="http://github.com/phenopackets/core-ig/ig-tools/tag" />
						<code value="kfdata" />
					</tag>
				</meta>
				<gender value="female" />
			</Patient>
		</resource>
		<request>
			<method value="POST" />
			<url value="Patient" />
		</request>
	</entry>

	<!-- Age -->

	<entry>
		<resource>
			<Observation>
				<meta>
					<tag>
						<system
							value="http://github.com/phenopackets/core-ig/ig-tools/tag" />
						<code value="kfdata" />
					</tag>
				</meta>
				<status value="final" />
				<code>
					<coding>
						<system value="http://snomed.info/sct" />
						<code value="424144002" />
						<display
							value="Current chronological age (observable entity)" />
					</coding>
				</code>
				<subject>
					<reference value="Patient/patient-1" />
				</subject>
				<valueQuantity>
					<value value="82" />
					<unit value="day" />
					<system value="http://unitsofmeasure.org" />
				</valueQuantity>
			</Observation>
		</resource>
		<request>
			<method value="POST" />
			<url value="Observation" />
		</request>
	</entry>

	<!-- Abnormal Atrial Septum (HP:0011994) -->
	<entry>
		<resource>
			<Observation>
				<!-- <id value="phenotype-1" /> -->
				<meta>
					<tag>
						<system
							value="http://github.com/phenopackets/core-ig/ig-tools/tag" />
						<code value="kfdata" />
					</tag>
				</meta>
				<status value="final" />
				<category>
					<coding>
						<system
							value="http://github.com/phenopackets/core-ig/CodeSystem/categories" />
						<code value="phenotype" />
					</coding>
				</category>
				<code>
					<coding>
						<system
							value="http://github.com/phenopackets/core-ig/CodeSystem/hpo" />
						<code value="HP:0011994" />
						<display value="Abnormal Atrial Septum" />
					</coding>
				</code>
				<subject>
					<reference value="Patient/patient-1"></reference>
				</subject>
				<valueBoolean value="true" />
			</Observation>
		</resource>
		<request>
			<method value="POST" />
			<url value="Observation" />
		</request>
	</entry>

	<entry>
		<resource>
			<Observation>
				<!-- <id value="phenotype-2" /> -->
				<meta>
					<tag>
						<system
							value="http://github.com/phenopackets/core-ig/ig-tools/tag" />
						<code value="kfdata" />
					</tag>
				</meta>
				<status value="final" />
				<category>
					<coding>
						<system
							value="http://github.com/phenopackets/core-ig/CodeSystem/categories" />
						<code value="phenotype" />
					</coding>
				</category>
				<code>
					<coding>
						<system
							value="http://github.com/phenopackets/core-ig/CodeSystem/hpo" />
						<code value="HP:0011563" />
						<display value="Abnormal Ventriculo-arterial Connection" />
					</coding>
				</code>
				<subject>
					<reference value="Patient/patient-1"></reference>
				</subject>
				<valueBoolean value="true" />
			</Observation>
		</resource>
		<request>
			<method value="POST" />
			<url value="Observation" />
		</request>
	</entry>

	<!-- Ventricular septal defect, single (MONDO:0002070; NCIT:C84506) -->
	<entry>
		<resource>
			<Condition>
				<meta>
					<tag>
						<system
							value="http://github.com/phenopackets/core-ig/ig-tools/tag" />
						<code value="kfdata" />
					</tag>
				</meta>
				<code>
					<coding>
						<system value="http://mondo" />
						<code value="MONDO:0002070" />
						<display value="Ventricular septal defect, single" />
					</coding>
					<coding>
						<system value="http://ncit" />
						<code value="NCIT:C84506" />
					</coding>
				</code>
				<subject>
					<reference value="Patient/patient-1"></reference>
				</subject>

			</Condition>
		</resource>
		<request>
			<method value="POST" />
			<url value="Condition" />
		</request>
	</entry>

	<!-- Dysplastic tricuspid valve (MONDO:0020288; NCIT:C50842) -->
	<entry>
		<resource>
			<Condition>
				<meta>
					<tag>
						<system
							value="http://github.com/phenopackets/core-ig/ig-tools/tag" />
						<code value="kfdata" />
					</tag>
				</meta>
				<code>
					<coding>
						<system value="http://mondo" />
						<code value="MONDO:0020288" />
						<display value="Dysplastic tricuspid valve" />
					</coding>
					<coding>
						<system value="http://ncit" />
						<code value="NCIT:C50842" />
					</coding>
				</code>
				<subject>
					<reference value="Patient/patient-1"></reference>
				</subject>

			</Condition>
		</resource>
		<request>
			<method value="POST" />
			<url value="Condition" />
		</request>
	</entry>

	<!-- Stub specimen -->
	<entry>
		<resource>
			<Specimen>
				<meta>
					<tag>
						<system
							value="http://github.com/phenopackets/core-ig/ig-tools/tag" />
						<code value="kfdata" />
					</tag>
				</meta>
				<type>
					<coding>
						<display value="Normal blood, DNA analyte" />
					</coding>
				</type>
				<subject>
					<reference value="Patient/patient-1" />
				</subject>
			</Specimen>
		</resource>
		<request>
			<method value="POST" />
			<url value="Specimen" />
		</request>
	</entry>

	<!-- Experiment -->
	<entry>
		<resource>
			<Task>
				<meta>
					<tag>
						<system
							value="http://github.com/phenopackets/core-ig/ig-tools/tag" />
						<code value="kfdata" />
					</tag>
				</meta>
				<status value="completed" />
				<intent value="original-order" />
				<code>
					<coding>
						<display value="Whole Genome Sequencing" />
					</coding>
				</code>
				<focus>
					<reference value="Patient/patient-1" />
				</focus>
			</Task>
		</resource>
		<request>
			<method value="POST" />
			<url value="Task" />
		</request>
	</entry>


</Bundle>